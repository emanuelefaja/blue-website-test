{{define "faq-sections"}}
<div class="space-y-8">
    {{range .categories}}
    <section id="{{.id}}" class="bg-gray-50 rounded-lg p-6">
        <h2 class="text-2xl font-semibold text-gray-900 mb-6">{{.name}}</h2>
        <div class="space-y-4">
            {{range .questions}}
            <div x-data="{ open: false }" class="bg-white rounded-lg border border-gray-200 overflow-hidden">
                <button 
                    @click="open = !open" 
                    class="w-full text-left p-6 focus:outline-none"
                    :aria-expanded="open"
                >
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-medium text-gray-900 pr-4">{{.question}}</h3>
                        <div class="flex-shrink-0">
                            <svg 
                                class="w-5 h-5 text-gray-500 transform transition-transform duration-200" 
                                :class="{ 'rotate-180': open }"
                                fill="none" 
                                stroke="currentColor" 
                                viewBox="0 0 24 24"
                            >
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </div>
                </button>
                <div 
                    x-show="open" 
                    x-transition:enter="transition ease-out duration-200"
                    x-transition:enter-start="opacity-0 transform -translate-y-2"
                    x-transition:enter-end="opacity-100 transform translate-y-0"
                    x-transition:leave="transition ease-in duration-150"
                    x-transition:leave-start="opacity-100 transform translate-y-0"
                    x-transition:leave-end="opacity-0 transform -translate-y-2"
                    class="px-6 pb-6"
                >
                    <div class="prose prose-gray max-w-none whitespace-pre-line">{{.answer}}</div>
                </div>
            </div>
            {{end}}
        </div>
    </section>
    {{end}}
</div>
{{end}}