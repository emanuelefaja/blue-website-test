{{define "main.html"}}
<!DOCTYPE html>
<html lang="en">
{{template "head" .}}
<body x-data="{ 
        sidebarsOpen: true,
        scrollProgress: 0
    }" 
    @scroll.window="scrollProgress = Math.round((window.pageYOffset / (document.documentElement.scrollHeight - document.documentElement.clientHeight)) * 100)"
    class="bg-white">
    {{template "topbar" .}}
    
    <!-- Main Layout -->
    <div class="flex pt-16 min-h-screen">
        {{template "left-sidebar" .}}
        
        <!-- Main Content Area -->
        <main class="flex-1 bg-white">
            <div class="flex">
                <!-- Content Area -->
                <div class="flex-1 p-8">
                    <div class="max-w-6xl mx-auto">
                        {{if .IsMarkdown}}
                        <div class="prose prose-lg prose-slate max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-strong:text-gray-900 prose-code:text-blue-600 prose-code:bg-blue-50 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline">
                            {{.Content}}
                        </div>
                        {{else}}
                        {{.Content}}
                        {{end}}
                    </div>
                </div>
                
                {{template "right-sidebar" .}}
            </div>
        </main>
    </div>
</body>
</html>
{{end}}