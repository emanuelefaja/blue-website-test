---
title: 安全性
description: Blue从底层设计就注重安全性和扩展性。
---

::callout{type="warning"}
**重要法律声明**: 本文档的英文版本为具有法律约束力的正式版本。此中文翻译仅为方便阅读而提供，如有任何差异或冲突，请以英文版本为准。
::

最后更新: 2025年7月16日

Blue提供企业级安全性和无缝扩展性，保障您的关键业务流程。我们的系统设计注重高可用性，深受120多个国家15,000多个团队的信赖，为您的全球运营提供信心保障。

我们的平台构建在强大的架构基础上，从核心层面优先考虑安全性和扩展性。我们深知随着您业务的发展，项目管理需求也在不断演进，Blue正是为了与您共同成长而设计的。无论您是小型团队还是大型企业，我们的系统都能高效且安全地处理您的工作负载。

## 安全且可扩展的平台

Blue确保为您的项目管理需求提供最高级别的安全性和扩展性。我们的企业级措施保护您的数据，让您能够无限制地增长。

我们实施了深度防御安全架构，具有多重保护层：

### API保护
- **智能速率限制**: 针对操作的特定限制可防止滥用，同时保持可用性（例如，一般操作5请求/60秒，导出操作1请求/50秒）
- **查询深度限制**: 最大10层深度，防止循环GraphQL查询攻击
- **请求大小限制**: GraphQL操作256MB，直接文件上传有更大限制
- **安全头部**: Helmet.js集成提供X-Frame-Options、X-Content-Type-Options和其他保护性头部

### 数据保护
- **输入净化**: 所有用户生成的HTML内容都使用白名单方式进行净化
- **SQL注入防护**: 通过Prisma ORM的参数化查询消除SQL注入风险
- **XSS保护**: 服务器端净化和Vue.js模板转义双重防护，防止跨站脚本攻击
- **文件上传验证**: 对所有上传文件进行MIME类型验证、扩展名验证和文件名净化

## 企业级加密

Blue实施军用级AES-256-GCM加密和认证加密，保护您的敏感数据。

我们使用Galois/Counter模式(GCM)的AES-256加密，配合PBKDF2密钥派生，使用100,000次迭代。这种认证加密不仅保护您的数据，还确保数据未被篡改。每次加密操作都使用唯一的盐值和初始化向量(IV)，使每个加密数据在密码学上都是唯一的。您的设备与我们服务器之间传输的所有数据都使用TLS 1.2或更高版本加密，WebSocket连接自动升级为WSS(WebSocket Secure)以支持实时功能。

## 高级保护系统

Blue采用多层自动化保护，确保平台安全性和可靠性。

### 实时保护
- **按操作速率限制**: 不同的API操作具有定制的速率限制（一般操作5请求/60秒，导出操作1请求/50秒，安全敏感操作3请求/60秒）
- **自动威胁检测**: 失败的身份验证尝试和可疑模式会触发自动保护措施
- **查询复杂度分析**: 深度GraphQL查询限制为10层，对接近限制的查询进行日志记录
- **CORS和CSRF保护**: 跨源请求验证，具有适当的凭据和SameSite cookie属性

### 基础设施安全
- **Redis支持的速率限制**: 跨所有服务器的分布式速率限制确保一致的保护
- **安全文件处理**: 文件上传验证MIME类型、扩展名和大小限制（GraphQL 256MB，直接上传4.8GB）
- **基于环境的安全**: 开发、测试和生产环境的不同安全配置
- **密钥轮换支持**: 访问令牌和刷新令牌的独立密钥，支持独立密钥轮换

## 多层身份验证和授权

Blue实施复杂的身份验证系统，具有多层保护。

### 身份验证方法
- **双令牌JWT系统**: 短期访问令牌（15分钟）配合长期刷新令牌（60天），最小化暴露窗口
- **个人访问令牌(PAT)**: 用于API集成，存储前使用bcrypt哈希，每次请求验证
- **Firebase身份验证**: 与Web和移动应用无缝集成，自动令牌管理
- **基于邮箱的安全码**: 敏感操作的限时代码，使用后自动清理

### 细粒度授权
我们的GraphQL API使用Shield中间件在字段级别强制执行权限。我们实施基于角色的访问控制(RBAC)，具有六个不同的权限级别：所有者、管理员、成员、客户、仅查看和仅评论。这些权限具有上下文感知能力，对每个操作都检查公司级别和项目级别的访问权限。

除了标准角色，Blue还支持自定义用户角色，实现更细粒度的访问控制。组织可以创建具有特定权限的定制角色，如`canCreateRecords`、`canEditRecords`、`canDeleteRecords`和`canViewAnalytics`，允许精确控制每个团队成员可以执行的操作。自定义角色可以在公司和项目级别应用，在不同项目中启用不同的权限集。特殊规则处理已归档项目和非活跃公司，确保即使在边缘情况下数据也受到保护。

## 持续安全监控

Blue实施全面监控以维护安全完整性。

我们的系统包括对安全事件、失败的身份验证尝试和异常访问模式的实时监控。速率限制自动防止暴力攻击，而查询深度限制则防止资源耗尽。所有安全相关事件都记录详细的审计跟踪，便于快速调查任何可疑活动。

## 每日数据备份

您的数据每日备份，确保数据完整性，并在需要时实现快速灾难恢复。

我们对所有客户数据执行自动化每日备份，将这些备份存储在安全的、地理位置分散的位置。此外，我们的平台实施全面的会话安全：

### 会话管理
- **安全Cookie**: 所有会话cookie使用httpOnly（防止JavaScript访问）、secure（仅HTTPS）和sameSite='strict'（CSRF保护）标志
- **令牌轮换**: 刷新令牌在登录时自动轮换，防止令牌重放攻击
- **域隔离**: 通过特定域的cookie设置实现多租户安全
- **自动过期**: 会话在定义期间后过期，安全清理身份验证工件

## 技术安全实施

Blue的安全性构建在我们应用程序架构的每一层中。

### 前端安全
- **无本地令牌存储**: 身份验证令牌由Firebase SDK管理，从不存储在localStorage中
- **自动令牌刷新**: 令牌在过期前无缝刷新
- **路由守卫**: 每个页面在渲染前验证用户权限
- **表单验证**: 在服务器提交前使用VeeValidate进行全面的客户端验证

### 后端安全架构
- **GraphQL Shield**: 每个API操作都受到特定权限规则保护
- **Prisma ORM**: 类型安全的数据库查询防止注入攻击
- **Redis支持的系统**: 速率限制和会话管理使用Redis确保性能和可靠性
- **审计日志**: 安全敏感操作被记录用于合规和调试

### 密码和令牌安全
- **BCrypt哈希**: 所有密码和个人访问令牌使用适当工作因子的bcrypt
- **无明文存储**: 敏感数据永不以可读格式存储
- **安全比较**: 时间安全比较函数防止时序攻击
- **一次性代码**: 安全代码使用后立即失效